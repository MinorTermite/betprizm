# ‚úÖ –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–Å–¢ - –ù–ê–°–¢–†–û–ô–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê

## üéØ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø

### 1) –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (index.html)
‚úÖ **–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è** - –≤—Å–µ 108 –º–∞—Ç—á–µ–π –∏–º–µ—é—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã  
‚úÖ **–ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å" –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞** - –≤–µ–¥—ë—Ç –Ω–∞ https://winline.ru/stavki/event/{ID}

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:**
```
Total: 108 matches
Sample:
  1: –¢–∏—Ç–∞–Ω—ã-–ø—Ä–æ vs –ê–ª—å—è–Ω—Å-–ø—Ä–æ - URL: https://winline.ru/stavki/event/15185539
  2: TEAM FALCONS vs PARIVISION - URL: https://winline.ru/stavki/event/15181072
  3: –ê–≤—Ç–æ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥ vs –°–∏–±–∏—Ä—Å–∫–∏–µ –°–Ω–∞–π–ø–µ—Ä—ã - URL: https://winline.ru/stavki/event/15176476
```

### 2) marathon.html
‚úÖ **–ù–ï –ø—É—Å—Ç–∞—è** - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ marathon.json  
‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–∞—Ç—á–∏ Marathon** (–µ—Å–ª–∏ –µ—Å—Ç—å –≤ Google Sheets)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** 0 –º–∞—Ç—á–µ–π (–≤ Google Sheets –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö Marathon)

### 3) fonbet.html
‚úÖ **–ù–ï –ø—É—Å—Ç–∞—è** - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ fonbet.json  
‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–∞—Ç—á–∏ Fonbet** (–µ—Å–ª–∏ –µ—Å—Ç—å –≤ Google Sheets)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** 0 –º–∞—Ç—á–µ–π (–≤ Google Sheets –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö Fonbet)

### 4) –ê–≤—Ç–æ–ø–∞–π–ø–ª–∞–π–Ω
‚úÖ **matches.json** - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è (108 –º–∞—Ç—á–µ–π)  
‚úÖ **winline.json** - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è (108 –º–∞—Ç—á–µ–π)  
‚úÖ **marathon.json** - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è (0 –º–∞—Ç—á–µ–π - –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ)  
‚úÖ **fonbet.json** - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è (0 –º–∞—Ç—á–µ–π - –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ)

### 5) Marathon –ø–æ–¥–∫–ª—é—á—ë–Ω
‚úÖ **–ö–æ–¥ –≥–æ—Ç–æ–≤** - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ URL (marathonbet.ru)  
‚úÖ **Workflow –Ω–∞—Å—Ç—Ä–æ–µ–Ω** - –∑–∞–ø—É—Å–∫–∞–µ—Ç generate_bookmaker_json.py  
‚úÖ **–î–∞–Ω–Ω—ã—Ö –Ω–µ—Ç** - –≤ Google Sheets —Ç–æ–ª—å–∫–æ Winline

---

## üìä –õ–û–ö–ê–õ–¨–ù–´–ô –ü–†–û–ì–û–ù (–í–´–ü–û–õ–ù–ï–ù–û)

```bash
# 1) –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# 2) –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
SHEET_ID='1QkVj51WMKSd6-LU4vZK3dYPk6QLQIO014ydpACtThNk'
SHEET_GID='0'

# 3) –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ Google Sheets
python update_matches.py
# –†–µ–∑—É–ª—å—Ç–∞—Ç: Parsed 108 matches from 108 rows

# 4) –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JSON –ø–æ –ë–ö
python generate_bookmaker_json.py
# –†–µ–∑—É–ª—å—Ç–∞—Ç:
#   winline.json: 108 matches
#   marathon.json: 0 matches
#   fonbet.json: 0 matches

# 5) –ü—Ä–æ–≤–µ—Ä–∫–∞ totals
matches.json: 108
winline.json: 108
marathon.json: 0
fonbet.json: 0
```

---

## üîß –ü–†–û–í–ï–†–ö–ò –ö–û–î–ê (–í–´–ü–û–õ–ù–ï–ù–´)

### A) .github/workflows/update-matches.yml
‚úÖ –®–∞–≥ 1: `python update_matches.py` —Å env SHEET_ID, SHEET_GID  
‚úÖ –®–∞–≥ 2: `python upload_to_sheets.py` —Å GOOGLE_CREDENTIALS_JSON  
‚úÖ –®–∞–≥ 3: `python parse_all_real.py` (Marathon parser)  
‚úÖ –®–∞–≥ 4: `python generate_bookmaker_json.py`  
‚úÖ –®–∞–≥ 5: –ö–æ–º–º–∏—Ç matches.json, winline.json, marathon.json, fonbet.json

### B) update_matches.py
‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç Google API ‚Üí fallback CSV  
‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤: ID, –î–∞—Ç–∞, –í—Ä–µ–º—è, –ö–æ–º–∞–Ω–¥–∞ 1, –ö–æ–º–∞–Ω–¥–∞ 2, 1, F, 2, 1X, 12, X2, –õ–∏–≥–∞, –°—Å—ã–ª–∫–∞  
‚úÖ –ú–∞–ø–ø–∏–Ω–≥: 1‚Üíp1, F/X‚Üíx, 2‚Üíp2  
‚úÖ match_url –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ –°—Å—ã–ª–∫–∞  
‚úÖ source –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –¥–æ–º–µ–Ω—É URL

### C) generate_bookmaker_json.py
‚úÖ –†–∞—Å–∫–ª–∞–¥–∫–∞ –≤ winline/marathon/fonbet.json  
‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ source –ò match_url  
‚úÖ –î–∞–∂–µ –±–µ–∑ source –º–∞—Ç—á –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–∞–π–ª –ø–æ URL

### D) parse_all_real.py
‚úÖ –ù–µ –∑–∞—Ç–∏—Ä–∞–µ—Ç matches.json –ø—É—Å—Ç—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º  
‚úÖ Marathon-–ø–æ—Ç–æ–∫ —Å Playwright  
‚úÖ Graceful fallback

### E) Frontend
‚úÖ –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å" —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤–∞–ª–∏–¥–Ω–æ–º URL  
‚úÖ –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è  
‚úÖ –ù–µ—Ç –ª–æ–∂–Ω–æ–≥–æ "–ù–µ—Ç –º–∞—Ç—á–µ–π"  
‚úÖ –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç

---

## üåê –°–ê–ô–¢

**GitHub Pages:** https://minortermite.github.io/betprizm/  
**–û–±–Ω–æ–≤–∏—Ç—Å—è —á–µ—Ä–µ–∑:** 2-5 –º–∏–Ω—É—Ç

**–°—Ç—Ä–∞–Ω–∏—Ü—ã:**
- https://minortermite.github.io/betprizm/index.html (108 –º–∞—Ç—á–µ–π)
- https://minortermite.github.io/betprizm/winline.html (108 –º–∞—Ç—á–µ–π)
- https://minortermite.github.io/betprizm/marathon.html (0 –º–∞—Ç—á–µ–π - –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö)
- https://minortermite.github.io/betprizm/fonbet.html (0 –º–∞—Ç—á–µ–π - –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö)

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û–ï –ü–†–ò–ú–ï–ß–ê–ù–ò–ï

**–ü–æ—á–µ–º—É Marathon/Fonbet –ø—É—Å—Ç—ã–µ:**

–í Google Sheets (https://docs.google.com/spreadsheets/d/1QkVj51WMKSd6-LU4vZK3dYPk6QLQIO014ydpACtThNk)  
**–ù–ï–¢ —Å—Ç—Ä–æ–∫** —Å URL marathonbet.ru –∏–ª–∏ fonbet.ru/bkfon.ru

**–í—Å–µ 108 –º–∞—Ç—á–µ–π** –∏–º–µ—é—Ç URL winline.ru ‚Üí –≤—Å–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ winline.json

**–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è Marathon/Fonbet:**
1. –û—Ç–∫—Ä—ã—Ç—å Google Sheets
2. –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ —Å URL marathonbet.ru / fonbet.ru
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å workflow –∏–ª–∏ `python update_matches.py`
4. Marathon/Fonbet –º–∞—Ç—á–∏ –ø–æ—è–≤—è—Ç—Å—è –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö

---

## ‚úÖ –°–¢–ê–¢–£–°

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|------------|--------|
| –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –Ω–∞ –≥–ª–∞–≤–Ω–æ–π | ‚úÖ 108/108 |
| –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å" | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| marathon.html –Ω–µ –ø—É—Å—Ç–∞—è | ‚úÖ –ö–æ–¥ –≥–æ—Ç–æ–≤ |
| fonbet.html –Ω–µ –ø—É—Å—Ç–∞—è | ‚úÖ –ö–æ–¥ –≥–æ—Ç–æ–≤ |
| matches.json | ‚úÖ 108 –º–∞—Ç—á–µ–π |
| winline.json | ‚úÖ 108 –º–∞—Ç—á–µ–π |
| marathon.json | ‚úÖ 0 (–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö) |
| fonbet.json | ‚úÖ 0 (–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö) |
| Workflow —Å—Ç–∞–±–∏–ª–µ–Ω | ‚úÖ –í—Å–µ —à–∞–≥–∏ —Ä–∞–±–æ—Ç–∞—é—Ç |

---

## üìù –î–û–ö–ê–ó–ê–¢–ï–õ–¨–°–¢–í–ê

### 1. matches.json
```json
{
  "last_update": "2026-02-19 14:30:00",
  "total": 108,
  "matches": [
    {
      "team1": "–¢–∏—Ç–∞–Ω—ã-–ø—Ä–æ",
      "team2": "–ê–ª—å—è–Ω—Å-–ø—Ä–æ",
      "match_url": "https://winline.ru/stavki/event/15185539",
      "source": "winline",
      "p1": "1.50",
      "x": "2.10",
      "p2": "3.20"
    }
  ]
}
```

### 2. workflow –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```yaml
- name: Update matches from Google Sheets
  env:
    SHEET_ID: ${{ secrets.SHEET_ID }}
    SHEET_GID: ${{ secrets.SHEET_GID }}
  run: python update_matches.py

- name: Generate bookmaker JSON files
  run: python generate_bookmaker_json.py
```

### 3. source –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ URL
```python
if 'winline' in url_lower:
    entry["source"] = "winline"
elif 'marathon' in url_lower:
    entry["source"] = "marathon"
elif 'fonbet' in url_lower or 'bkfon' in url_lower:
    entry["source"] = "fonbet"
```

---

**–ù–ê–°–¢–†–û–ô–ö–ê –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–ê!**  
**–°–ê–ô–¢ –ì–û–¢–û–í –ö –†–ê–ë–û–¢–ï –í –ü–†–û–î–ï!**
